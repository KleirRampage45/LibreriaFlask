{% extends "base.html" %}

{% block title %}Editar Libro{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mt-4">Editar Libro</h1>
    <form method="POST" action="{{ url_for('edit_book', id=book.id) }}">
        <div class="form-group">
            <label for="title">Título</label>
            <input type="text" class="form-control" id="title" name="title" value="{{ book.title }}" required>
        </div>
        <div class="form-group">
            <label for="author">Autor</label>
            <select class="form-control" id="author" name="author" required>
                {% for author in authors %}
                    <option value="{{ author.id }}" {% if author.id == book.author_id %}selected{% endif %}>{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="genre">Género</label>
            <select class="form-control" id="genre" name="genre" required>
                {% for genre in genres %}
                    <option value="{{ genre.id }}" {% if genre.id == book.genre_id %}selected{% endif %}>{{ genre.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="rating">Calificación</label>
            <input type="text" class="form-control" id="rating" name="rating" value="{{ book.rating }}" required>
        </div>
        <div class="form-group">
            <label for="year">Año</label>
            <input type="number" class="form-control" id="year" name="year" value="{{ book.year }}" required>
        </div>
        <div class="form-group">
            <label for="publisher">Editorial</label>
            <input type="text" class="form-control" id="publisher" name="publisher" value="{{ book.publisher.name }}" required>
        </div>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
</div>
{% endblock %}
